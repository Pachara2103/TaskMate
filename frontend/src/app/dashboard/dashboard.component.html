<div class="container">
    <div style="flex-direction: column; display: flex; width: 100%; height: 100%;">

        <section id="timeline">
            <div>Timeline</div>

            <div
                style="flex-direction: row; display: flex; background-color: rgb(187, 255, 213); max-width: 50vw; height: 45vh; gap: 15px;">

                <div style="flex-direction: column; display: flex; gap: 5px; margin-top: 45px;">

                    <div id="show task title" *ngFor="let task of alltasks">

                        <div
                            style="width: 10vw; height: 30px;flex-wrap: wrap; background-color: rgb(243, 143, 143); flex-shrink: 0;align-items: center; display: flex;">
                            {{task.title}}
                        </div>

                    </div>

                </div>




                <div #scrollContainer style="flex-direction: column; display: flex; gap: 5px; overflow: auto;">

                    <div id="all day of task" style="display: flex; flex-direction: row; gap: 5px;">

                        <div *ngFor="let date of getdateRange()"
                            [ngStyle]="{'background-color': today()=== date[0] ? '#a9ddf6':'#eee'}" #dayBox
                            [attr.date]="date[0]"
                            style="width: 70px; height: 40px; text-align: center;border-radius: 10px; flex-shrink: 0">

                            <div
                                style="flex-direction: row; display: flex; justify-content: center; align-items: center; gap: 5px;">

                                <div style="font-size: 30px; font-weight: bold;">{{ date[0] }}</div>

                                <div
                                    style="flex-direction: column; display: flex; justify-content: center; align-items: center;">
                                    <div style="font-size: 16px;">{{ date[1] }}</div>
                                    <div style="font-size: 10px;">{{ date[2] }}</div>
                                </div>


                            </div>




                        </div>
                    </div>

                    <div style="position: relative;">
                        <div style="flex-direction: column; display: flex; gap: 5px; ">

                            <div *ngFor="let task of alltasks">

                                <div [style.width.px]="getDuration(task.start_time, task.end_time, task.detail)[0] * 75"
                                    [style.margin-left.px]="getDuration(task.start_time, task.end_time, task.detail)[1]*75"
                                    style="background-color: #7ea1ff; height: 30px; color: white; border-radius: 20px; flex-shrink: 0;justify-content: center;align-items: center; display: flex;">
                                    {{getDuration(task.start_time, task.end_time, task.detail)[3]===0 ? '0 %': ''}}
                                </div>


                            </div>


                        </div>

                        <div
                            style="flex-direction: column; display: flex; gap: 5px; position: absolute; top: 0; z-index: 100;">
                            <div id="show task title" *ngFor="let task of alltasks">

                                <div [style.width.px]="getDuration(task.start_time, task.end_time, task.detail)[2] * 75"
                                    [style.margin-left.px]="getDuration(task.start_time, task.end_time, task.detail)[1]*75"
                                    style="background-color: #1251ff; height: 30px; color: white; border-radius: 20px; flex-shrink: 0;justify-content: center;align-items: center; display: flex;">
                                    {{getDuration(task.start_time, task.end_time, task.detail)[3]===0 ? '':
                                    getDuration(task.start_time, task.end_time, task.detail)[3]+' %'}}
                                </div>


                            </div>


                        </div>

                    </div>




                </div>

            </div>

        </section>


    </div>


    <app-chat></app-chat>


</div>

<style>
    .container {
        width: 84vw;
        height: 100vh;
        flex-direction: row;
        display: flex;
        background-color: rgb(216, 237, 255);
    }






    ::-webkit-scrollbar {
        width: 0;
    }
</style>